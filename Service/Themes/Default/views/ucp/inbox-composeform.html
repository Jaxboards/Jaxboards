<div class="composeform">
  <form method="post" onsubmit="document.querySelector('#pdedit').editor.submit();return RUN.submitForm(this)">
    %1$s
    <div>
      <label for="to">
        To:
      </label>
      <input type="hidden" id="mid" name="mid" value="%2$s" onchange="document.querySelector('#validname').className='good'" />
      <input type="text" id="to" name="to" value="%3$s" autocomplete="off"
        onkeydown="if(event.keyCode==13) return false;" onkeyup="
                    document.querySelector('#validname').className='bad';
                    JAX.autoComplete(
                        'act=searchmembers&term='+this.value,this,document.querySelector('#mid'),
                        event
                    );
                " />
      <span id="validname" class="%4$s">
      </span>
    </div>
    <div>
      <label for="title">
        Title:
      </label>
      <input type="text" id="title" name="title" value="%5$s" />
    </div>
    <div>
      <textarea id="message" name="message">
                %6$s
            </textarea>
      <iframe id="pdedit" onload="new JAX.Editor(document.querySelector('#message'),this)"
        style="display:none">
      </iframe>
    </div>
    <input type="submit" value="Send" />
  </form>
</div>
