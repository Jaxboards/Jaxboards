<form method="post">
  <table>
    <tr>
        <th>Image</th>
        <th>Title</th>
        <th>Reason</th>
        <th>Count</th>
        <th>Member</th>
    </tr>
    <tr>
      <td id="badgeIcon">
      </td>
      <td>
        <select id="badgeSelect" name="badgeId">
            {{ options }}
        </select>
        <script>
          const badgeSelect = document.querySelector('#badgeSelect');
          badgeSelect.addEventListener('change', function () {
              const src = this.options[this.selectedIndex].dataset.image;
              document.querySelector('#badgeIcon').innerHTML = `<img src="${src}">`;
          });
          badgeSelect.dispatchEvent(new Event('change'));
        </script>
      </td>
      <td>
        <input type="text" id="reason" name="reason" placeholder="Reason">
      </td>
      <td>
        <input type="number" name="count" value="1">
      </td>
      <td>
        <input type="text" id="name" name="name" title="Search for member" data-autocomplete-action="searchmembers"
            data-autocomplete-output="#mid" data-autocomplete-indicator="#validname" />
        <input type="hidden" id="mid" name="mid" />
      </td>
      <td>
        <input type="submit" name="submit" value="Grant Badge">
      </td>
    </tr>
    {{ grantedBadges }}
  </table>
</form>
